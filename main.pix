<?xml version="1.0" encoding="utf-8"?>
<Script xmlns:i="http://www.w3.org/2001/XMLSchema-instance" z:Id="i1" xmlns:z="http://schemas.microsoft.com/2003/10/Serialization/" xmlns="http://schemas.datacontract.org/2004/07/BR.Logic">
  <CompilationType>CSharp</CompilationType>
  <Description i:nil="true" />
  <Id>2ecb7c09-88a6-4261-bb71-b7143e555584</Id>
  <Logic z:Id="i2" i:type="ExecutedStep">
    <Childs>
      <AbstractStep z:Id="i3" i:type="CommentStep">
        <Childs />
        <Id>cff98402-6451-49a7-a368-ef077e2b5cd3</Id>
        <Parent z:Ref="i2" />
        <PropertyValues />
        <SelectedOptionId i:nil="true" />
        <Text>Переменные</Text>
      </AbstractStep>
      <AbstractStep z:Id="i4" i:type="CommentStep">
        <Childs />
        <Id>e7a65191-f390-488a-b912-24cd36fa7fdb</Id>
        <Parent z:Ref="i2" />
        <PropertyValues />
        <SelectedOptionId i:nil="true" />
        <Text>Ошибки</Text>
      </AbstractStep>
      <AbstractStep z:Id="i5" i:type="ExecutedStep">
        <Childs />
        <Id>208162e4-4ea0-47d8-b94c-5dff79e508d1</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i6">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>default(System.Exception)</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i7">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>exc_main</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Хранение ошибки, возникающей во время работы робота</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i8" i:type="CommentStep">
        <Childs />
        <Id>9dfe9b66-6143-4c6b-a496-30faa751a672</Id>
        <Parent z:Ref="i2" />
        <PropertyValues />
        <SelectedOptionId i:nil="true" />
        <Text>Словари</Text>
      </AbstractStep>
      <AbstractStep z:Id="i9" i:type="ExecutedStep">
        <Childs />
        <Id>290a4e8b-9ef8-49ec-836d-46899b1e2198</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i10">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>new Dictionary&lt;string, System.Object&gt;()</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i11">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>dict_config</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Словарь для данных конфигурационного файла, а также любых других значений</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i12" i:type="ExecutedStep">
        <Childs />
        <Id>6b97c647-8657-4a8b-98fc-261a084d4c81</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i13">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>new Dictionary&lt;System.String, System.Security.SecureString&gt;()</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i14">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>dict_secureData</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Словарь для хранения данных учетных записей</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i15" i:type="ExecutedStep">
        <Childs />
        <Id>0b0fe94b-341d-4c6b-9e8d-1d6a7cc93508</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i16">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>new Dictionary&lt;string, string&gt;()</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i17">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>dict_paths</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Словарь для хранения путей к проектным\созданным папкам</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i18" i:type="CommentStep">
        <Childs />
        <Id>4a6cc483-99c9-452a-90bf-6e3c1a9316d3</Id>
        <Parent z:Ref="i2" />
        <PropertyValues />
        <SelectedOptionId i:nil="true" />
        <Text>Транзакции</Text>
      </AbstractStep>
      <AbstractStep z:Id="i19" i:type="ExecutedStep">
        <Childs />
        <Id>5bc45e9c-e2ca-4e9b-9633-76c41ddf5d24</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i20">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>0</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i21">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>int_transCount</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Счетчик количества транзакций, которые были обработаны за один запуск</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i22" i:type="ExecutedStep">
        <Childs />
        <Id>a58be860-0fc1-46af-98f7-f0c213d62ec8</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i23">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>""</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i24">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>str_transactionID</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>ID транзакции в пуле транзакций</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i25" i:type="ExecutedStep">
        <Childs />
        <Id>b53feca9-119d-46aa-b1e0-ab834816f45d</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i26">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>""</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i27">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>str_lastTransactionID</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>ID последней транзакции в пуле транзакций</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i28" i:type="ExecutedStep">
        <Childs />
        <Id>19b23d31-d4c8-42a5-a694-db482c5bf3b0</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i29">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>default(System.Data.DataRow)</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i30">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>row_transactionItem</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Транзакция</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i31" i:type="ExecutedStep">
        <Childs />
        <Id>5e771753-8e5e-4cef-b9cd-c10cdd805f1b</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i32">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>new DataTable()</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i33">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>dt_transactions</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Таблица транзакций</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i34" i:type="CommentStep">
        <Childs />
        <Id>ca6dd964-de3a-42f5-9f55-3cc1e4a03c57</Id>
        <Parent z:Ref="i2" />
        <PropertyValues />
        <SelectedOptionId i:nil="true" />
        <Text>Остальное</Text>
      </AbstractStep>
      <AbstractStep z:Id="i35" i:type="ExecutedStep">
        <Childs />
        <Id>eb4c89a8-300b-4316-b4c0-fa269ef3b700</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i36">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>1</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i37">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>int_state</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Состояние, с которого начинается цикл</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i38" i:type="ExecutedStep">
        <Childs />
        <Id>70c5cc57-de94-4166-9527-7ba70bbfa750</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i39">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>1</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i40">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>int_transactionRetryCounter</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Счетчик повторных попыток обработки транзакции</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i41" i:type="ExecutedStep">
        <Childs />
        <Id>d652b9ab-233e-4916-b87a-7ad7203fe658</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i42">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>0</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i43">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>int_consecutiveExceptionCounter</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Счетчик последовательных исключений</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i44" i:type="ExecutedStep">
        <Childs />
        <Id>ab1290cf-66f8-4997-808b-89447fba47a0</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i45">
            <PropertyName>Value</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>false</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i46">
            <PropertyName>To</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>bool_exit</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Флаг выхода из цикла</Text>
        <_activityFullName>BR.Core.Base.Assign</_activityFullName>
      </AbstractStep>
      <AbstractStep z:Id="i47" i:type="CommentStep">
        <Childs />
        <Id>97bc8a46-7460-4315-b767-160dba2a052a</Id>
        <Parent z:Ref="i2" />
        <PropertyValues />
        <SelectedOptionId i:nil="true" />
        <Text>STATE Machine</Text>
      </AbstractStep>
      <AbstractStep z:Id="i48" i:type="ExecutedStep">
        <Childs>
          <AbstractStep z:Id="i49" i:type="CommentStep">
            <Childs />
            <Id>5ec349f3-3c3b-4e52-a0cd-72531b31bfb0</Id>
            <Parent z:Ref="i48" />
            <PropertyValues />
            <SelectedOptionId i:nil="true" />
            <Text>СОСТОЯНИЯ:
STATE 1: Инициализация
STATE 2: Создание транзакций и выполнение общих действий
STATE 3: Получение данных транзакции
STATE 4: Обработка транзакции
STATE 5: Завершение</Text>
          </AbstractStep>
          <AbstractStep z:Id="i50" i:type="ExecutedStep">
            <Childs>
              <AbstractStep z:Id="i51" i:type="ExecutedStep">
                <Childs>
                  <AbstractStep z:Id="i52" i:type="CommentStep">
                    <Childs />
                    <Id>6104b218-1e71-423c-b2ee-41da1d2745ea</Id>
                    <Parent z:Ref="i51" />
                    <PropertyValues />
                    <SelectedOptionId i:nil="true" />
                    <Text>- Получение учетных данных

Технические шаги:
- Логирование начала работы
- Чтение конфигурационных данных
- Проверка и создание проектных папок</Text>
                  </AbstractStep>
                  <AbstractStep z:Id="i53" i:type="ExecutedStep">
                    <Childs>
                      <AbstractStep z:Id="i54" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i55" i:type="CommentStep">
                            <Childs />
                            <Id>3311e1e0-3b9a-4f00-9eac-99deeb00c176</Id>
                            <Parent z:Ref="i54" />
                            <PropertyValues />
                            <SelectedOptionId i:nil="true" />
                            <Text>Подготовка к запуску</Text>
                          </AbstractStep>
                          <AbstractStep z:Id="i56" i:type="ExecutedStep">
                            <Childs />
                            <Id>441eb73f-2baf-4635-8300-ae866324c9d6</Id>
                            <Parent z:Ref="i54" />
                            <PropertyValues>
                              <PropertyValue z:Id="i57">
                                <PropertyName>Level</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.Core.Base" i:type="d17p1:LogLevel">Info</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i58">
                                <PropertyName>Text</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>"LogStep: Начало работы робота"</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>LogStep - Начало работы робота</Text>
                            <_activityFullName>BR.Core.Base.WriteLog</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i59" i:type="ExecutedStep">
                            <Childs />
                            <Id>6c0e0b63-caf8-44aa-bb18-c09a70fb5f08</Id>
                            <Parent z:Ref="i54" />
                            <PropertyValues>
                              <PropertyValue z:Id="i60">
                                <PropertyName>FilePath</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>@"FrameworkScripts\KillProcesses.pix"</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i61">
                                <PropertyName>Parameters</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.Core" i:type="d17p1:ArrayOfArgumentItem">
                                  <d17p1:ArgumentItem z:Id="i62">
                                    <d17p1:ArgumentName>list_processesToKill</d17p1:ArgumentName>
                                    <d17p1:Expression>new List&lt;String&gt;()</d17p1:Expression>
                                    <d17p1:Type>List&lt;System.String&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                </_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i63">
                                <PropertyName>Timeout</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://www.w3.org/2001/XMLSchema" i:type="d17p1:int">0</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Закрыть процессы</Text>
                            <_activityFullName>BR.Core.Base.ExecuteScript</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i64" i:type="ExecutedStep">
                            <Childs />
                            <Id>bce09f69-a830-4a00-99f8-0fc8321bad6b</Id>
                            <Parent z:Ref="i54" />
                            <PropertyValues>
                              <PropertyValue z:Id="i65">
                                <PropertyName>FilePath</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>@"FrameworkScripts\InitAllSettings.pix"</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i66">
                                <PropertyName>Parameters</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.Core" i:type="d17p1:ArrayOfArgumentItem">
                                  <d17p1:ArgumentItem z:Id="i67">
                                    <d17p1:ArgumentName>dict_config</d17p1:ArgumentName>
                                    <d17p1:Expression>dict_config</d17p1:Expression>
                                    <d17p1:Type>Dictionary&lt;System.String, System.Object&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i68">
                                    <d17p1:ArgumentName>bool_isProd</d17p1:ArgumentName>
                                    <d17p1:Expression>bool_isProd</d17p1:Expression>
                                    <d17p1:Type>System.Boolean</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i69">
                                    <d17p1:ArgumentName>bool_isPredProd</d17p1:ArgumentName>
                                    <d17p1:Expression>bool_isPredProd</d17p1:Expression>
                                    <d17p1:Type>System.Boolean</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i70">
                                    <d17p1:ArgumentName>dict_secureData</d17p1:ArgumentName>
                                    <d17p1:Expression>dict_secureData</d17p1:Expression>
                                    <d17p1:Type>Dictionary&lt;System.String, System.Security.SecureString&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i71">
                                    <d17p1:ArgumentName>str_configFile</d17p1:ArgumentName>
                                    <d17p1:Expression>Path.Combine(Environment.CurrentDirectory, @"Data\Config.xlsx")</d17p1:Expression>
                                    <d17p1:Type>System.String</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i72">
                                    <d17p1:ArgumentName>dict_paths</d17p1:ArgumentName>
                                    <d17p1:Expression>dict_paths</d17p1:Expression>
                                    <d17p1:Type>Dictionary&lt;System.String, System.String&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                </_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i73">
                                <PropertyName>Timeout</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://www.w3.org/2001/XMLSchema" i:type="d17p1:int">0</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Выполнить инициализацию настроек</Text>
                            <_activityFullName>BR.Core.Base.ExecuteScript</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>81571366-b3b6-4039-8709-729f80d75306</Id>
                        <Parent z:Ref="i53" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Try</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i74" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i75" i:type="ExecutedStep">
                            <Childs />
                            <Id>9f26c0e0-4203-4fef-b127-f1de3405dfca</Id>
                            <Parent z:Ref="i74" />
                            <PropertyValues>
                              <PropertyValue z:Id="i76">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>errorSource</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i77">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>exc_main.Source</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Источник ошибки</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>5a1a23a4-5c61-40ba-b352-9011f24074f9</Id>
                        <Parent z:Ref="i53" />
                        <PropertyValues>
                          <PropertyValue z:Id="i78">
                            <PropertyName>Message</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>errorMessage</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i79">
                            <PropertyName>StackTrace</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression></_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i80">
                            <PropertyName>Source</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>errorSource</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i81">
                            <PropertyName>Exception</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>exc_main</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                        </PropertyValues>
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Catch</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i82" i:type="ExecutedStep">
                        <Childs />
                        <Id>c2986d1d-1ccc-40f2-9b4e-14c921fc64a7</Id>
                        <Parent z:Ref="i53" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Finally</_activityFullName>
                      </AbstractStep>
                    </Childs>
                    <Id>be68cb0a-f9e5-4543-a00f-52fbabd9c681</Id>
                    <Parent z:Ref="i51" />
                    <PropertyValues />
                    <SelectedOptionId i:nil="true" />
                    <EnableStatus>true</EnableStatus>
                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                    <RetryCount>-1</RetryCount>
                    <Text>STATE BODY</Text>
                    <_activityFullName>BR.Core.Base.TryCatch</_activityFullName>
                  </AbstractStep>
                  <AbstractStep z:Id="i83" i:type="ExecutedStep">
                    <Childs>
                      <AbstractStep z:Id="i84" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i85" i:type="ExecutedStep">
                            <Childs />
                            <Id>78738b44-262e-497f-93b2-b5b7f73fd426</Id>
                            <Parent z:Ref="i84" />
                            <PropertyValues>
                              <PropertyValue z:Id="i86">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>5</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i87">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 5: Завершение</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>f34e15ca-b1cd-4840-8e0c-749d1d114ab0</Id>
                        <Parent z:Ref="i83" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i88" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i89" i:type="ExecutedStep">
                            <Childs />
                            <Id>c5315caf-f20a-4946-af75-3b97d7d5f1c7</Id>
                            <Parent z:Ref="i88" />
                            <PropertyValues>
                              <PropertyValue z:Id="i90">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>2</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i91">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 2: Создание транзакций и выполнение общих действий</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>f35ca9cb-1516-45f2-b084-1886fa820bc2</Id>
                        <Parent z:Ref="i83" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                      </AbstractStep>
                    </Childs>
                    <Id>bb2ff3ef-24e6-40b8-999c-7ab7e38b4a1e</Id>
                    <Parent z:Ref="i51" />
                    <PropertyValues>
                      <PropertyValue z:Id="i92">
                        <PropertyName>Condition</PropertyName>
                        <_dataType>Expression</_dataType>
                        <_expression>exc_main!=null</_expression>
                        <_value i:nil="true" />
                        <_xpathSettings xmlns:d13p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                      </PropertyValue>
                    </PropertyValues>
                    <SelectedOptionId i:nil="true" />
                    <EnableStatus>true</EnableStatus>
                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                    <RetryCount>-1</RetryCount>
                    <Text>STATE TRANSITIONS</Text>
                    <_activityFullName>BR.Core.Base.If</_activityFullName>
                  </AbstractStep>
                </Childs>
                <Id>c08538d3-7cdc-4123-97a8-f49883732ed6</Id>
                <Parent z:Ref="i50" />
                <PropertyValues />
                <SelectedOptionId i:nil="true" />
                <EnableStatus>true</EnableStatus>
                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                <RetryCount>-1</RetryCount>
                <Text>STATE 1: Инициализация</Text>
                <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
              </AbstractStep>
              <AbstractStep z:Id="i93" i:type="ExecutedStep">
                <Childs>
                  <AbstractStep z:Id="i94" i:type="CommentStep">
                    <Childs />
                    <Id>c8061846-0290-4805-86a6-f349e1a09ea9</Id>
                    <Parent z:Ref="i93" />
                    <PropertyValues />
                    <SelectedOptionId i:nil="true" />
                    <Text>Наполнение пула транзакций для дальнейшей обработки и выполнение общих действий</Text>
                  </AbstractStep>
                  <AbstractStep z:Id="i95" i:type="ExecutedStep">
                    <Childs>
                      <AbstractStep z:Id="i96" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i97" i:type="ExecutedStep">
                            <Childs>
                              <AbstractStep z:Id="i98" i:type="ExecutedStep">
                                <Childs>
                                  <AbstractStep z:Id="i99" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>eff01e3b-9dbb-4e67-98cb-952b24f9d342</Id>
                                    <Parent z:Ref="i98" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i100">
                                        <PropertyName>Value</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>$"Достигнуто максимальное количество последовательных исключений. Количество последовательных исключений: {int_consecutiveExceptionCounter}"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i101">
                                        <PropertyName>To</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>dict_config["MessageBody"]</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>Тело сообщения - Ошибка</Text>
                                    <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                                  </AbstractStep>
                                  <AbstractStep z:Id="i102" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>bef580ae-a7cc-4b2e-8188-1aa4457e3dbd</Id>
                                    <Parent z:Ref="i98" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i103">
                                        <PropertyName>FilePath</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>@"FrameworkScripts\Notification.pix"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i104">
                                        <PropertyName>Parameters</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.Core" i:type="d21p1:ArrayOfArgumentItem">
                                          <d21p1:ArgumentItem z:Id="i105">
                                            <d21p1:ArgumentName>dict_config</d21p1:ArgumentName>
                                            <d21p1:Expression>dict_config</d21p1:Expression>
                                            <d21p1:Type>Dictionary&lt;System.String, System.Object&gt;</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i106">
                                            <d21p1:ArgumentName>int_notifyType</d21p1:ArgumentName>
                                            <d21p1:Expression>3</d21p1:Expression>
                                            <d21p1:Type>System.Int32</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i107">
                                            <d21p1:ArgumentName>list_attaches</d21p1:ArgumentName>
                                            <d21p1:Expression>new List&lt;string&gt;{}</d21p1:Expression>
                                            <d21p1:Type>List&lt;System.String&gt;</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i108">
                                            <d21p1:ArgumentName>sec_mailPassword</d21p1:ArgumentName>
                                            <d21p1:Expression>dict_secureData["MailCred_passwd"]</d21p1:Expression>
                                            <d21p1:Type>System.Security.SecureString</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i109">
                                            <d21p1:ArgumentName>bool_takeScreenshot</d21p1:ArgumentName>
                                            <d21p1:Expression>false</d21p1:Expression>
                                            <d21p1:Type>System.Boolean</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                        </_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i110">
                                        <PropertyName>Timeout</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://www.w3.org/2001/XMLSchema" i:type="d21p1:int">0</_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>Выполнить скрипт отправки письма, int_notifyType - 3</Text>
                                    <_activityFullName>BR.Core.Base.ExecuteScript</_activityFullName>
                                  </AbstractStep>
                                  <AbstractStep z:Id="i111" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>f2683d45-cd92-4525-8e76-90502ed1c097</Id>
                                    <Parent z:Ref="i98" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i112">
                                        <PropertyName>Text</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>$"Достигнуто максимальное количество последовательных исключений. Количество последовательных исключений: {int_consecutiveExceptionCounter}"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i113">
                                        <PropertyName>Exception</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>exc_main</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId>0</SelectedOptionId>
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text></Text>
                                    <_activityFullName>BR.Core.Base.ThrowException</_activityFullName>
                                  </AbstractStep>
                                </Childs>
                                <Id>e82bf41b-5564-4fbb-a784-8529849517f4</Id>
                                <Parent z:Ref="i97" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                              </AbstractStep>
                              <AbstractStep z:Id="i114" i:type="ExecutedStep">
                                <Childs />
                                <Id>62970fc8-a920-4e59-aa46-081ab277f5f7</Id>
                                <Parent z:Ref="i97" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                              </AbstractStep>
                            </Childs>
                            <Id>637095a5-8b9f-4e32-bc6a-60f74298cc09</Id>
                            <Parent z:Ref="i96" />
                            <PropertyValues>
                              <PropertyValue z:Id="i115">
                                <PropertyName>Condition</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_maxConsecutiveExceptions  &gt; 0 &amp;&amp; int_consecutiveExceptionCounter &gt;= int_maxConsecutiveExceptions </_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Если число int_maxConsecutiveExceptions было достигнуто, вызов исключения для завершения выполнения процесса. 
Если int_maxConsecutiveExceptions равно 0, то допускается любое количество последовательных исключений.</Text>
                            <_activityFullName>BR.Core.Base.If</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i116" i:type="ExecutedStep">
                            <Childs />
                            <Id>fc5bf130-a709-4fbc-b94e-2faec958b4cf</Id>
                            <Parent z:Ref="i96" />
                            <PropertyValues>
                              <PropertyValue z:Id="i117">
                                <PropertyName>FilePath</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>@"TransactionScripts\PreProcess.pix"</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i118">
                                <PropertyName>Parameters</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.Core" i:type="d17p1:ArrayOfArgumentItem">
                                  <d17p1:ArgumentItem z:Id="i119">
                                    <d17p1:ArgumentName>dict_config</d17p1:ArgumentName>
                                    <d17p1:Expression>dict_config</d17p1:Expression>
                                    <d17p1:Type>Dictionary&lt;System.String, System.Object&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i120">
                                    <d17p1:ArgumentName>dict_secureData</d17p1:ArgumentName>
                                    <d17p1:Expression>dict_secureData</d17p1:Expression>
                                    <d17p1:Type>Dictionary&lt;System.String, System.Security.SecureString&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i121">
                                    <d17p1:ArgumentName>dict_paths</d17p1:ArgumentName>
                                    <d17p1:Expression>dict_paths</d17p1:Expression>
                                    <d17p1:Type>Dictionary&lt;System.String, System.String&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                </_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i122">
                                <PropertyName>Timeout</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://www.w3.org/2001/XMLSchema" i:type="d17p1:int">0</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Выполнить общие действия</Text>
                            <_activityFullName>BR.Core.Base.ExecuteScript</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i123" i:type="ExecutedStep">
                            <Childs>
                              <AbstractStep z:Id="i124" i:type="ExecutedStep">
                                <Childs>
                                  <AbstractStep z:Id="i125" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>9b0c7f76-f6b4-4ba6-8316-af7b94fef354</Id>
                                    <Parent z:Ref="i124" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i126">
                                        <PropertyName>FilePath</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>@"TransactionScripts\CreateTransactions.pix"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i127">
                                        <PropertyName>Parameters</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.Core" i:type="d21p1:ArrayOfArgumentItem">
                                          <d21p1:ArgumentItem z:Id="i128">
                                            <d21p1:ArgumentName>dict_config</d21p1:ArgumentName>
                                            <d21p1:Expression>dict_config</d21p1:Expression>
                                            <d21p1:Type>Dictionary&lt;System.String, System.Object&gt;</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i129">
                                            <d21p1:ArgumentName>dict_secureData</d21p1:ArgumentName>
                                            <d21p1:Expression>dict_secureData</d21p1:Expression>
                                            <d21p1:Type>Dictionary&lt;System.String, System.Security.SecureString&gt;</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i130">
                                            <d21p1:ArgumentName>dict_paths</d21p1:ArgumentName>
                                            <d21p1:Expression>dict_paths</d21p1:Expression>
                                            <d21p1:Type>Dictionary&lt;System.String, System.String&gt;</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i131">
                                            <d21p1:ArgumentName>out_dt_transactions</d21p1:ArgumentName>
                                            <d21p1:Expression>dt_transactions</d21p1:Expression>
                                            <d21p1:Type>System.Data.DataTable</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                        </_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i132">
                                        <PropertyName>Timeout</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://www.w3.org/2001/XMLSchema" i:type="d21p1:int">0</_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>Создать транзакции в пул</Text>
                                    <_activityFullName>BR.Core.Base.ExecuteScript</_activityFullName>
                                  </AbstractStep>
                                  <AbstractStep z:Id="i133" i:type="CommentStep">
                                    <Childs />
                                    <Id>2f8fb5ef-3de4-4a7a-84bc-dd92d91c4840</Id>
                                    <Parent z:Ref="i124" />
                                    <PropertyValues />
                                    <SelectedOptionId i:nil="true" />
                                    <Text>Обязательный шаг добавления колонки "Статус" для таблицы dt_transactions</Text>
                                  </AbstractStep>
                                  <AbstractStep z:Id="i134" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>1df95711-b193-4c6b-84dd-7a0fa4df7adb</Id>
                                    <Parent z:Ref="i124" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i135">
                                        <PropertyName>ColumnName</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>"Статус"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i136">
                                        <PropertyName>BaseDataTable</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>dt_transactions</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i137">
                                        <PropertyName>ColumnType</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://schemas.datacontract.org/2004/07/Activities.BaseCollections.DataTable.Logic.Enums" i:type="d21p1:ColumnAvailableType">SystemString</_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i138">
                                        <PropertyName>DefaultValue</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression></_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i139">
                                        <PropertyName>AllowNull</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://www.w3.org/2001/XMLSchema" i:type="d21p1:boolean">true</_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Skip</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text></Text>
                                    <_activityFullName>Activities.BaseCollections.DT.AddColumn</_activityFullName>
                                  </AbstractStep>
                                  <AbstractStep z:Id="i140" i:type="ExecutedStep">
                                    <Childs>
                                      <AbstractStep z:Id="i141" i:type="CommentStep">
                                        <Childs />
                                        <Id>d81d15ce-945d-4659-9a43-03c478b7200e</Id>
                                        <Parent z:Ref="i140" />
                                        <PropertyValues />
                                        <SelectedOptionId i:nil="true" />
                                        <Text>Если в пуле нет новых транзакций</Text>
                                      </AbstractStep>
                                      <AbstractStep z:Id="i142" i:type="ExecutedStep">
                                        <Childs>
                                          <AbstractStep z:Id="i143" i:type="ExecutedStep">
                                            <Childs />
                                            <Id>e95c2a9f-ffd6-46b2-b386-777ef05f936d</Id>
                                            <Parent z:Ref="i142" />
                                            <PropertyValues>
                                              <PropertyValue z:Id="i144">
                                                <PropertyName>FilePath</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression>@"Telegram_Notification.pix"</_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i145">
                                                <PropertyName>Parameters</PropertyName>
                                                <_dataType>Value</_dataType>
                                                <_expression i:nil="true" />
                                                <_value xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.Core" i:type="d25p1:ArrayOfArgumentItem">
                                                  <d25p1:ArgumentItem z:Id="i146">
                                                    <d25p1:ArgumentName>in_dict_config</d25p1:ArgumentName>
                                                    <d25p1:Expression>dict_config</d25p1:Expression>
                                                    <d25p1:Type>Dictionary&lt;System.String, System.Object&gt;</d25p1:Type>
                                                  </d25p1:ArgumentItem>
                                                  <d25p1:ArgumentItem z:Id="i147">
                                                    <d25p1:ArgumentName>in_str_textMessage</d25p1:ArgumentName>
                                                    <d25p1:Expression>"👌👌На сегодня исходящих событий нет👌👌"</d25p1:Expression>
                                                    <d25p1:Type>System.String</d25p1:Type>
                                                  </d25p1:ArgumentItem>
                                                </_value>
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i148">
                                                <PropertyName>Timeout</PropertyName>
                                                <_dataType>Value</_dataType>
                                                <_expression i:nil="true" />
                                                <_value xmlns:d25p1="http://www.w3.org/2001/XMLSchema" i:type="d25p1:int">0</_value>
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                            </PropertyValues>
                                            <SelectedOptionId i:nil="true" />
                                            <EnableStatus>true</EnableStatus>
                                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                            <RetryCount>-1</RetryCount>
                                            <Text></Text>
                                            <_activityFullName>BR.Core.Base.ExecuteScript</_activityFullName>
                                          </AbstractStep>
                                          <AbstractStep z:Id="i149" i:type="ExecutedStep">
                                            <Childs />
                                            <Id>74751c0d-c205-42f1-bbf6-c6985788540d</Id>
                                            <Parent z:Ref="i142" />
                                            <PropertyValues>
                                              <PropertyValue z:Id="i150">
                                                <PropertyName>Text</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression></_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i151">
                                                <PropertyName>Exception</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression>new BusinessRuleException("Отсутствуют новые транзакции для обработки")</_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                            </PropertyValues>
                                            <SelectedOptionId>1</SelectedOptionId>
                                            <EnableStatus>true</EnableStatus>
                                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                            <RetryCount>-1</RetryCount>
                                            <Text>Бизнес ошибка: Отсутствуют новые транзакции для обработки</Text>
                                            <_activityFullName>BR.Core.Base.ThrowException</_activityFullName>
                                          </AbstractStep>
                                        </Childs>
                                        <Id>2de572fe-5f9a-4e7b-b52c-61cf2c63ab29</Id>
                                        <Parent z:Ref="i140" />
                                        <PropertyValues />
                                        <SelectedOptionId i:nil="true" />
                                        <EnableStatus>true</EnableStatus>
                                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                        <RetryCount>-1</RetryCount>
                                        <Text></Text>
                                        <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                                      </AbstractStep>
                                      <AbstractStep z:Id="i152" i:type="ExecutedStep">
                                        <Childs>
                                          <AbstractStep z:Id="i153" i:type="ExecutedStep">
                                            <Childs />
                                            <Id>24a317eb-da36-46f9-a574-857bf37d9eb4</Id>
                                            <Parent z:Ref="i152" />
                                            <PropertyValues>
                                              <PropertyValue z:Id="i154">
                                                <PropertyName>Value</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression>dt_transactions.Rows.Count.ToString()</_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                              <PropertyValue z:Id="i155">
                                                <PropertyName>To</PropertyName>
                                                <_dataType>Expression</_dataType>
                                                <_expression>str_lastTransactionID</_expression>
                                                <_value i:nil="true" />
                                                <_xpathSettings xmlns:d25p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                              </PropertyValue>
                                            </PropertyValues>
                                            <SelectedOptionId i:nil="true" />
                                            <EnableStatus>true</EnableStatus>
                                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                            <RetryCount>-1</RetryCount>
                                            <Text></Text>
                                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                                          </AbstractStep>
                                        </Childs>
                                        <Id>75bcc65e-b954-4655-a40d-2955b8ddd662</Id>
                                        <Parent z:Ref="i140" />
                                        <PropertyValues />
                                        <SelectedOptionId i:nil="true" />
                                        <EnableStatus>true</EnableStatus>
                                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                        <RetryCount>-1</RetryCount>
                                        <Text></Text>
                                        <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                                      </AbstractStep>
                                    </Childs>
                                    <Id>25b9e4b4-5800-4b2f-9844-9224461195e8</Id>
                                    <Parent z:Ref="i124" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i156">
                                        <PropertyName>Condition</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>dt_transactions.Rows.Count == 0</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>В пуле нет новых транзакций?</Text>
                                    <_activityFullName>BR.Core.Base.If</_activityFullName>
                                  </AbstractStep>
                                </Childs>
                                <Id>2cbea85f-5877-4d7f-a34c-d0885ce8a5fb</Id>
                                <Parent z:Ref="i123" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text>Истина - Если ID транзакции пустой или нет ошибок (выполнение cоздания транзакций)</Text>
                                <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                              </AbstractStep>
                              <AbstractStep z:Id="i157" i:type="ExecutedStep">
                                <Childs />
                                <Id>0b12c297-39e2-4b39-8fd2-8edefda3d11f</Id>
                                <Parent z:Ref="i123" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text>Ложь - Если есть ошибка и транзакция непустая (выполнение перезапуска)</Text>
                                <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                              </AbstractStep>
                            </Childs>
                            <Id>6ad840e7-01a3-4e41-8330-202e3b7208bb</Id>
                            <Parent z:Ref="i96" />
                            <PropertyValues>
                              <PropertyValue z:Id="i158">
                                <PropertyName>Condition</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>exc_main == null || string.IsNullOrEmpty(str_transactionID) == true</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Проверка на перезапуск транзакции</Text>
                            <_activityFullName>BR.Core.Base.If</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>eb3991df-ec98-4f7f-9a6f-357cecb2b4c8</Id>
                        <Parent z:Ref="i95" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Try</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i159" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i160" i:type="ExecutedStep">
                            <Childs />
                            <Id>4a901c82-a26f-4a11-98fb-44248b7e81d4</Id>
                            <Parent z:Ref="i159" />
                            <PropertyValues>
                              <PropertyValue z:Id="i161">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>errorSource</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i162">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>exc_main.Source</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Источник ошибки</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i163" i:type="ExecutedStep">
                            <Childs />
                            <Id>d5c53923-6470-4d34-8d59-c6ba7a328323</Id>
                            <Parent z:Ref="i159" />
                            <PropertyValues>
                              <PropertyValue z:Id="i164">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>null</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i165">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>str_transactionID</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Обнуление данных транзакции для завершения процесса </Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>1f4cba7a-61e3-42d6-8459-6a6285e03c9a</Id>
                        <Parent z:Ref="i95" />
                        <PropertyValues>
                          <PropertyValue z:Id="i166">
                            <PropertyName>Message</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>errorMessage</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i167">
                            <PropertyName>StackTrace</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression></_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i168">
                            <PropertyName>Source</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>errorSource</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i169">
                            <PropertyName>Exception</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>exc_main</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                        </PropertyValues>
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Catch</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i170" i:type="ExecutedStep">
                        <Childs />
                        <Id>229bb53a-3922-4c2b-bcfc-544973c3e5ac</Id>
                        <Parent z:Ref="i95" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Finally</_activityFullName>
                      </AbstractStep>
                    </Childs>
                    <Id>eba4b9fc-c2ad-4ab3-b12a-07675fd12340</Id>
                    <Parent z:Ref="i93" />
                    <PropertyValues />
                    <SelectedOptionId i:nil="true" />
                    <EnableStatus>true</EnableStatus>
                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                    <RetryCount>-1</RetryCount>
                    <Text>STATE BODY</Text>
                    <_activityFullName>BR.Core.Base.TryCatch</_activityFullName>
                  </AbstractStep>
                  <AbstractStep z:Id="i171" i:type="ExecutedStep">
                    <Childs>
                      <AbstractStep z:Id="i172" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i173" i:type="ExecutedStep">
                            <Childs />
                            <Id>f7af3c1b-54db-4be1-a232-d0a818f8f083</Id>
                            <Parent z:Ref="i172" />
                            <PropertyValues>
                              <PropertyValue z:Id="i174">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>1</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i175">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_transactionRetryCounter</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Счетчик попыток</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i176" i:type="ExecutedStep">
                            <Childs />
                            <Id>ae37285b-b9d5-4fc9-b630-53f0b7e8e60c</Id>
                            <Parent z:Ref="i172" />
                            <PropertyValues>
                              <PropertyValue z:Id="i177">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>3</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i178">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 3: Получение данных транзакции</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>f605b4e4-d090-49c1-a3cb-b9d099f0ebe0</Id>
                        <Parent z:Ref="i171" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text>Истина - Количество попыток больше максимального</Text>
                        <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i179" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i180" i:type="ExecutedStep">
                            <Childs />
                            <Id>d43e1f6f-5656-4c3f-b9cb-81a1fdc973b7</Id>
                            <Parent z:Ref="i179" />
                            <PropertyValues>
                              <PropertyValue z:Id="i181">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>4</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i182">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 4: Обработка транзакции</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>49ace694-d47c-4fa4-8dd8-ce073c348c5a</Id>
                        <Parent z:Ref="i171" />
                        <PropertyValues>
                          <PropertyValue z:Id="i183">
                            <PropertyName>Condition</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>exc_main != null &amp;&amp; string.IsNullOrEmpty(str_transactionID) == false</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                        </PropertyValues>
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text>Истина - Если есть ошибка и ID транзакции непустой (перезапуск)</Text>
                        <_activityFullName>BR.Core.Base.ElseIf</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i184" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i185" i:type="ExecutedStep">
                            <Childs />
                            <Id>19cbebf3-87a3-49ec-8246-b344149dc67c</Id>
                            <Parent z:Ref="i184" />
                            <PropertyValues>
                              <PropertyValue z:Id="i186">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>5</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i187">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 5: Завершение</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>1553c233-3a13-404c-948e-31be35a583ce</Id>
                        <Parent z:Ref="i171" />
                        <PropertyValues>
                          <PropertyValue z:Id="i188">
                            <PropertyName>Condition</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>exc_main != null</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                        </PropertyValues>
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.ElseIf</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i189" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i190" i:type="ExecutedStep">
                            <Childs />
                            <Id>e0544a8c-7c2b-4a66-9153-5413a67897c6</Id>
                            <Parent z:Ref="i189" />
                            <PropertyValues>
                              <PropertyValue z:Id="i191">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>3</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i192">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 3: Получение данных транзакции</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>39a4f24a-b756-489c-b2ac-4f5ef482c586</Id>
                        <Parent z:Ref="i171" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                      </AbstractStep>
                    </Childs>
                    <Id>632a178e-301c-406c-b40a-c73cda60f588</Id>
                    <Parent z:Ref="i93" />
                    <PropertyValues>
                      <PropertyValue z:Id="i193">
                        <PropertyName>Condition</PropertyName>
                        <_dataType>Expression</_dataType>
                        <_expression>int_transactionRetryCounter &gt; int_maxTransactionRetry &amp;&amp; exc_main != null &amp;&amp; string.IsNullOrEmpty(str_transactionID) == false</_expression>
                        <_value i:nil="true" />
                        <_xpathSettings xmlns:d13p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                      </PropertyValue>
                    </PropertyValues>
                    <SelectedOptionId i:nil="true" />
                    <EnableStatus>true</EnableStatus>
                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                    <RetryCount>-1</RetryCount>
                    <Text>STATE TRANSITIONS</Text>
                    <_activityFullName>BR.Core.Base.If</_activityFullName>
                  </AbstractStep>
                </Childs>
                <Id>2a22be3c-fc08-495b-a563-23baed31dfa7</Id>
                <Parent z:Ref="i50" />
                <PropertyValues>
                  <PropertyValue z:Id="i194">
                    <PropertyName>Condition</PropertyName>
                    <_dataType>Expression</_dataType>
                    <_expression>int_state == 2</_expression>
                    <_value i:nil="true" />
                    <_xpathSettings xmlns:d11p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                  </PropertyValue>
                </PropertyValues>
                <SelectedOptionId i:nil="true" />
                <EnableStatus>true</EnableStatus>
                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                <RetryCount>-1</RetryCount>
                <Text>STATE 2: Создание транзакций и выполнение общих действий</Text>
                <_activityFullName>BR.Core.Base.ElseIf</_activityFullName>
              </AbstractStep>
              <AbstractStep z:Id="i195" i:type="ExecutedStep">
                <Childs>
                  <AbstractStep z:Id="i196" i:type="CommentStep">
                    <Childs />
                    <Id>7611cf64-e339-404a-90eb-bea06075e591</Id>
                    <Parent z:Ref="i195" />
                    <PropertyValues />
                    <SelectedOptionId i:nil="true" />
                    <Text>Получение следующей транзакции для обработки</Text>
                  </AbstractStep>
                  <AbstractStep z:Id="i197" i:type="ExecutedStep">
                    <Childs>
                      <AbstractStep z:Id="i198" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i199" i:type="ExecutedStep">
                            <Childs />
                            <Id>80aa20fe-1765-4ae3-a261-bbb625aa8c66</Id>
                            <Parent z:Ref="i198" />
                            <PropertyValues>
                              <PropertyValue z:Id="i200">
                                <PropertyName>ShouldStop</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>bool_shouldStop</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text></Text>
                            <_activityFullName>Activities.Master.Tasks.CheckSoftStopFlag</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i201" i:type="ExecutedStep">
                            <Childs>
                              <AbstractStep z:Id="i202" i:type="ExecutedStep">
                                <Childs>
                                  <AbstractStep z:Id="i203" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>aa38f763-e585-43c2-8aa7-9c17ff76a8d1</Id>
                                    <Parent z:Ref="i202" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i204">
                                        <PropertyName>FilePath</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>@"TransactionScripts\GetTransaction.pix"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i205">
                                        <PropertyName>Parameters</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.Core" i:type="d21p1:ArrayOfArgumentItem">
                                          <d21p1:ArgumentItem z:Id="i206">
                                            <d21p1:ArgumentName>row_transactionItem</d21p1:ArgumentName>
                                            <d21p1:Expression>row_transactionItem</d21p1:Expression>
                                            <d21p1:Type>System.Data.DataRow</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i207">
                                            <d21p1:ArgumentName>str_transactionID</d21p1:ArgumentName>
                                            <d21p1:Expression>str_transactionID</d21p1:Expression>
                                            <d21p1:Type>System.String</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i208">
                                            <d21p1:ArgumentName>int_transCount</d21p1:ArgumentName>
                                            <d21p1:Expression>int_transCount</d21p1:Expression>
                                            <d21p1:Type>System.Int32</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i209">
                                            <d21p1:ArgumentName>dt_transactions</d21p1:ArgumentName>
                                            <d21p1:Expression>dt_transactions</d21p1:Expression>
                                            <d21p1:Type>System.Data.DataTable</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                        </_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i210">
                                        <PropertyName>Timeout</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://www.w3.org/2001/XMLSchema" i:type="d21p1:int">0</_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text></Text>
                                    <_activityFullName>BR.Core.Base.ExecuteScript</_activityFullName>
                                  </AbstractStep>
                                </Childs>
                                <Id>7083082a-875f-4247-8ab1-b9ce36c7bd17</Id>
                                <Parent z:Ref="i201" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                              </AbstractStep>
                              <AbstractStep z:Id="i211" i:type="ExecutedStep">
                                <Childs>
                                  <AbstractStep z:Id="i212" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>43e706a2-1efe-44ba-89a6-f3f1b953361f</Id>
                                    <Parent z:Ref="i211" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i213">
                                        <PropertyName>Value</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>null</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i214">
                                        <PropertyName>To</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>str_transactionID</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>Обнуление данных транзакции для завершения процесса </Text>
                                    <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                                  </AbstractStep>
                                </Childs>
                                <Id>a1b870e0-66a3-4332-87d3-b21f1cf80201</Id>
                                <Parent z:Ref="i201" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                              </AbstractStep>
                            </Childs>
                            <Id>11b5e389-9b5d-477d-8ff9-8185388bed57</Id>
                            <Parent z:Ref="i198" />
                            <PropertyValues>
                              <PropertyValue z:Id="i215">
                                <PropertyName>Condition</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>!bool_shouldStop</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text></Text>
                            <_activityFullName>BR.Core.Base.If</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>d62d342a-b6d9-43cc-a559-78beddca7350</Id>
                        <Parent z:Ref="i197" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Try</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i216" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i217" i:type="ExecutedStep">
                            <Childs />
                            <Id>29cb97c8-df33-4205-afc7-95e2fba43d81</Id>
                            <Parent z:Ref="i216" />
                            <PropertyValues>
                              <PropertyValue z:Id="i218">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>errorSource</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i219">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>exc_main.Source</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Источник ошибки</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i220" i:type="ExecutedStep">
                            <Childs />
                            <Id>438c2e81-cf8a-48ef-88de-206ccbfed443</Id>
                            <Parent z:Ref="i216" />
                            <PropertyValues>
                              <PropertyValue z:Id="i221">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>null</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i222">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>str_transactionID</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Обнуление данных транзакции для завершения процесса </Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>ddbc7f70-c0a3-413c-bb5d-fb528e5deb82</Id>
                        <Parent z:Ref="i197" />
                        <PropertyValues>
                          <PropertyValue z:Id="i223">
                            <PropertyName>Message</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>errorMessage</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i224">
                            <PropertyName>StackTrace</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression></_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i225">
                            <PropertyName>Source</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>errorSource</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i226">
                            <PropertyName>Exception</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>exc_main</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                        </PropertyValues>
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Catch</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i227" i:type="ExecutedStep">
                        <Childs />
                        <Id>b8d79a53-01e8-4e04-8014-13ee55b33390</Id>
                        <Parent z:Ref="i197" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Finally</_activityFullName>
                      </AbstractStep>
                    </Childs>
                    <Id>4c41a88f-487f-4960-9f2f-4dcce5a83baa</Id>
                    <Parent z:Ref="i195" />
                    <PropertyValues />
                    <SelectedOptionId i:nil="true" />
                    <EnableStatus>true</EnableStatus>
                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                    <RetryCount>-1</RetryCount>
                    <Text>STATE BODY</Text>
                    <_activityFullName>BR.Core.Base.TryCatch</_activityFullName>
                  </AbstractStep>
                  <AbstractStep z:Id="i228" i:type="ExecutedStep">
                    <Childs>
                      <AbstractStep z:Id="i229" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i230" i:type="ExecutedStep">
                            <Childs />
                            <Id>6306b31c-bb7a-41d8-ae33-d963a9b8a336</Id>
                            <Parent z:Ref="i229" />
                            <PropertyValues>
                              <PropertyValue z:Id="i231">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>4</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i232">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 4: Обработка транзакции</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>12338c72-9982-493e-a5ef-f211c6b1f2ec</Id>
                        <Parent z:Ref="i228" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i233" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i234" i:type="ExecutedStep">
                            <Childs />
                            <Id>270f0055-b63a-4407-8027-925285645c99</Id>
                            <Parent z:Ref="i233" />
                            <PropertyValues>
                              <PropertyValue z:Id="i235">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>5</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i236">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 5: Завершение</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>0ed0bef3-f5ba-4fed-a55b-6268d9a5617d</Id>
                        <Parent z:Ref="i228" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                      </AbstractStep>
                    </Childs>
                    <Id>1270a0a3-7224-4be9-81d2-a83935e7b4d8</Id>
                    <Parent z:Ref="i195" />
                    <PropertyValues>
                      <PropertyValue z:Id="i237">
                        <PropertyName>Condition</PropertyName>
                        <_dataType>Expression</_dataType>
                        <_expression>str_transactionID!=null</_expression>
                        <_value i:nil="true" />
                        <_xpathSettings xmlns:d13p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                      </PropertyValue>
                    </PropertyValues>
                    <SelectedOptionId i:nil="true" />
                    <EnableStatus>true</EnableStatus>
                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                    <RetryCount>-1</RetryCount>
                    <Text>STATE TRANSITIONS</Text>
                    <_activityFullName>BR.Core.Base.If</_activityFullName>
                  </AbstractStep>
                </Childs>
                <Id>79502640-8756-4d25-ae8a-d150dc334d83</Id>
                <Parent z:Ref="i50" />
                <PropertyValues>
                  <PropertyValue z:Id="i238">
                    <PropertyName>Condition</PropertyName>
                    <_dataType>Expression</_dataType>
                    <_expression>int_state == 3</_expression>
                    <_value i:nil="true" />
                    <_xpathSettings xmlns:d11p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                  </PropertyValue>
                </PropertyValues>
                <SelectedOptionId i:nil="true" />
                <EnableStatus>true</EnableStatus>
                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                <RetryCount>-1</RetryCount>
                <Text>STATE 3: Получение данных транзакции</Text>
                <_activityFullName>BR.Core.Base.ElseIf</_activityFullName>
              </AbstractStep>
              <AbstractStep z:Id="i239" i:type="ExecutedStep">
                <Childs>
                  <AbstractStep z:Id="i240" i:type="CommentStep">
                    <Childs />
                    <Id>1cf7339d-9bce-4fe6-a646-2df7763b82a3</Id>
                    <Parent z:Ref="i239" />
                    <PropertyValues />
                    <SelectedOptionId i:nil="true" />
                    <Text>Вызов процесса обработки транзакции</Text>
                  </AbstractStep>
                  <AbstractStep z:Id="i241" i:type="ExecutedStep">
                    <Childs>
                      <AbstractStep z:Id="i242" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i243" i:type="ExecutedStep">
                            <Childs />
                            <Id>4f9982dc-ab12-4b98-8273-4e0a6a794a53</Id>
                            <Parent z:Ref="i242" />
                            <PropertyValues>
                              <PropertyValue z:Id="i244">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>null</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i245">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>exc_main</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Обнуление переменной для хранения ошибки</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i246" i:type="ExecutedStep">
                            <Childs />
                            <Id>fec224cc-3e72-4dee-88e3-b5e647a17d9c</Id>
                            <Parent z:Ref="i242" />
                            <PropertyValues>
                              <PropertyValue z:Id="i247">
                                <PropertyName>Level</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.Core.Base" i:type="d17p1:LogLevel">Info</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i248">
                                <PropertyName>Text</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>$"LogStep: Старт обработки транзакции: {str_transactionID}"</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>LogStep - Старт обработки транзакции</Text>
                            <_activityFullName>BR.Core.Base.WriteLog</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i249" i:type="ExecutedStep">
                            <Childs />
                            <Id>37507092-f8b1-4655-9a6c-4626e7cea361</Id>
                            <Parent z:Ref="i242" />
                            <PropertyValues>
                              <PropertyValue z:Id="i250">
                                <PropertyName>FilePath</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>@"TransactionScripts\Process.pix"</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i251">
                                <PropertyName>Parameters</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.Core" i:type="d17p1:ArrayOfArgumentItem">
                                  <d17p1:ArgumentItem z:Id="i252">
                                    <d17p1:ArgumentName>dict_config</d17p1:ArgumentName>
                                    <d17p1:Expression>dict_config</d17p1:Expression>
                                    <d17p1:Type>Dictionary&lt;System.String, System.Object&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i253">
                                    <d17p1:ArgumentName>dict_paths</d17p1:ArgumentName>
                                    <d17p1:Expression>dict_paths</d17p1:Expression>
                                    <d17p1:Type>Dictionary&lt;System.String, System.String&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i254">
                                    <d17p1:ArgumentName>dict_secureData</d17p1:ArgumentName>
                                    <d17p1:Expression>dict_secureData</d17p1:Expression>
                                    <d17p1:Type>Dictionary&lt;System.String, System.Security.SecureString&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i255">
                                    <d17p1:ArgumentName>row_transactionItem</d17p1:ArgumentName>
                                    <d17p1:Expression>row_transactionItem</d17p1:Expression>
                                    <d17p1:Type>System.Data.DataRow</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i256">
                                    <d17p1:ArgumentName>str_transactionID</d17p1:ArgumentName>
                                    <d17p1:Expression>str_transactionID</d17p1:Expression>
                                    <d17p1:Type>System.String</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i257">
                                    <d17p1:ArgumentName>int_maxTransactionRetry</d17p1:ArgumentName>
                                    <d17p1:Expression>int_maxTransactionRetry</d17p1:Expression>
                                    <d17p1:Type>System.Int32</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                  <d17p1:ArgumentItem z:Id="i258">
                                    <d17p1:ArgumentName>int_transactionRetryCounter</d17p1:ArgumentName>
                                    <d17p1:Expression>int_transactionRetryCounter</d17p1:Expression>
                                    <d17p1:Type>System.Int32</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                </_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i259">
                                <PropertyName>Timeout</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://www.w3.org/2001/XMLSchema" i:type="d17p1:int">0</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Выполнить скрипт обработки транзакции</Text>
                            <_activityFullName>BR.Core.Base.ExecuteScript</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i260" i:type="ExecutedStep">
                            <Childs />
                            <Id>a0d753aa-5d17-45c7-802e-975231ede554</Id>
                            <Parent z:Ref="i242" />
                            <PropertyValues>
                              <PropertyValue z:Id="i261">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>"Обработано"</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i262">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>row_transactionItem["Статус"]</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Подтвердить завершение обработки транзакции</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i263" i:type="ExecutedStep">
                            <Childs />
                            <Id>891cb371-6bc3-4966-95c6-32ba0ff0fe05</Id>
                            <Parent z:Ref="i242" />
                            <PropertyValues>
                              <PropertyValue z:Id="i264">
                                <PropertyName>Level</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.Core.Base" i:type="d17p1:LogLevel">Info</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i265">
                                <PropertyName>Text</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>$"LogStep: Транзакция обработана: {str_transactionID}"</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>LogStep - Транзакция обработана</Text>
                            <_activityFullName>BR.Core.Base.WriteLog</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>b210a5d4-4012-4456-9bff-435cddba26b4</Id>
                        <Parent z:Ref="i241" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Try</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i266" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i267" i:type="ExecutedStep">
                            <Childs />
                            <Id>85b8fa0b-849a-4a56-abb5-ac480343beca</Id>
                            <Parent z:Ref="i266" />
                            <PropertyValues>
                              <PropertyValue z:Id="i268">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>errorSource</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i269">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>exc_main.Source</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Источник ошибки</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i270" i:type="ExecutedStep">
                            <Childs>
                              <AbstractStep z:Id="i271" i:type="ExecutedStep">
                                <Childs>
                                  <AbstractStep z:Id="i272" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>7493db7b-2b04-4651-91be-64fe1b018966</Id>
                                    <Parent z:Ref="i271" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i273">
                                        <PropertyName>Value</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>$"Бизнес-ошибка: {exc_main.GetType()}: {errorMessage}"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i274">
                                        <PropertyName>To</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>row_transactionItem["Статус"]</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>Подтвердить завершение обработки транзакции - Бизнес-ошибка</Text>
                                    <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                                  </AbstractStep>
                                  <AbstractStep z:Id="i275" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>c4a99754-e934-4638-bf77-be40b9dfe4f9</Id>
                                    <Parent z:Ref="i271" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i276">
                                        <PropertyName>Value</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>null</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i277">
                                        <PropertyName>To</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>exc_main</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>Обнуление бизнес-ошибки для избежания перезапусков</Text>
                                    <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                                  </AbstractStep>
                                </Childs>
                                <Id>88bf0fee-6431-4eec-81dd-590d8336212c</Id>
                                <Parent z:Ref="i270" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                              </AbstractStep>
                              <AbstractStep z:Id="i278" i:type="ExecutedStep">
                                <Childs>
                                  <AbstractStep z:Id="i279" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>18fc7323-23a6-47d0-a2b1-3e62d17c0571</Id>
                                    <Parent z:Ref="i278" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i280">
                                        <PropertyName>Value</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>$"Системная ошибка: {exc_main.GetType()}: {errorMessage}. {errorSource}"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i281">
                                        <PropertyName>To</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>row_transactionItem["Статус"]</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>Подтвердить завершение обработки транзакции - Системная ошибка</Text>
                                    <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                                  </AbstractStep>
                                </Childs>
                                <Id>c1375f76-5096-4a35-9b6a-088b2b5fc416</Id>
                                <Parent z:Ref="i270" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                              </AbstractStep>
                            </Childs>
                            <Id>7b135972-77e8-460f-9632-1e34aacff34b</Id>
                            <Parent z:Ref="i266" />
                            <PropertyValues>
                              <PropertyValue z:Id="i282">
                                <PropertyName>Condition</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>exc_main.GetType() == new BusinessRuleException().GetType()</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Если тип ошибки - Бизнес-исключение</Text>
                            <_activityFullName>BR.Core.Base.If</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>71a47ecf-3686-4b60-8ebb-1691a29a2542</Id>
                        <Parent z:Ref="i241" />
                        <PropertyValues>
                          <PropertyValue z:Id="i283">
                            <PropertyName>Message</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>errorMessage</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i284">
                            <PropertyName>StackTrace</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression></_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i285">
                            <PropertyName>Source</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>errorSource</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i286">
                            <PropertyName>Exception</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>exc_main</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                        </PropertyValues>
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Catch</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i287" i:type="ExecutedStep">
                        <Childs />
                        <Id>aa68653f-9338-4d37-98e3-ee7fb7776487</Id>
                        <Parent z:Ref="i241" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Finally</_activityFullName>
                      </AbstractStep>
                    </Childs>
                    <Id>b97b7310-f890-4490-bd70-f9b1de094754</Id>
                    <Parent z:Ref="i239" />
                    <PropertyValues />
                    <SelectedOptionId i:nil="true" />
                    <EnableStatus>true</EnableStatus>
                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                    <RetryCount>-1</RetryCount>
                    <Text>STATE BODY</Text>
                    <_activityFullName>BR.Core.Base.TryCatch</_activityFullName>
                  </AbstractStep>
                  <AbstractStep z:Id="i288" i:type="ExecutedStep">
                    <Childs>
                      <AbstractStep z:Id="i289" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i290" i:type="ExecutedStep">
                            <Childs />
                            <Id>82bc04cb-94c7-4a7c-b532-5be6688c8d87</Id>
                            <Parent z:Ref="i289" />
                            <PropertyValues>
                              <PropertyValue z:Id="i291">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_transactionRetryCounter + 1</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i292">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_transactionRetryCounter</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>+1 попытка</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i293" i:type="ExecutedStep">
                            <Childs />
                            <Id>2b87353e-f8da-40c5-94a9-e7ef9f3a64cc</Id>
                            <Parent z:Ref="i289" />
                            <PropertyValues>
                              <PropertyValue z:Id="i294">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_consecutiveExceptionCounter + 1</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i295">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_consecutiveExceptionCounter</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>+1 последовательное исключение</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i296" i:type="ExecutedStep">
                            <Childs />
                            <Id>f1ed51fd-f705-4345-a3bd-49e59396d9d2</Id>
                            <Parent z:Ref="i289" />
                            <PropertyValues>
                              <PropertyValue z:Id="i297">
                                <PropertyName>FilePath</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>@"FrameworkScripts\KillProcesses.pix"</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i298">
                                <PropertyName>Parameters</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.Core" i:type="d17p1:ArrayOfArgumentItem">
                                  <d17p1:ArgumentItem z:Id="i299">
                                    <d17p1:ArgumentName>list_processesToKill</d17p1:ArgumentName>
                                    <d17p1:Expression>new List&lt;String&gt; {"chrome", "excel"}</d17p1:Expression>
                                    <d17p1:Type>List&lt;System.String&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                </_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i300">
                                <PropertyName>Timeout</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://www.w3.org/2001/XMLSchema" i:type="d17p1:int">0</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Закрыть процессы</Text>
                            <_activityFullName>BR.Core.Base.ExecuteScript</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i301" i:type="ExecutedStep">
                            <Childs />
                            <Id>6245ae2c-f084-4fee-87cc-e08135cdff88</Id>
                            <Parent z:Ref="i289" />
                            <PropertyValues>
                              <PropertyValue z:Id="i302">
                                <PropertyName>Count</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>2</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId>0</SelectedOptionId>
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text></Text>
                            <_activityFullName>BR.Core.Base.Sleep</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i303" i:type="ExecutedStep">
                            <Childs />
                            <Id>17ce61bd-45a1-4154-b0cf-2f5dd793d74e</Id>
                            <Parent z:Ref="i289" />
                            <PropertyValues>
                              <PropertyValue z:Id="i304">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>2</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i305">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 2: Создание транзакций и выполнение общих действий</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>2b56b417-5099-4d81-8981-a3bf8cddf963</Id>
                        <Parent z:Ref="i288" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text>Истина - Переход в перезапуск</Text>
                        <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i306" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i307" i:type="ExecutedStep">
                            <Childs />
                            <Id>c3a9cfc6-8a88-4c95-9bf6-ee49eb221a43</Id>
                            <Parent z:Ref="i306" />
                            <PropertyValues>
                              <PropertyValue z:Id="i308">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>5</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i309">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 5: Завершение</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>a358e8ba-2b56-465b-b023-eb016ca0349a</Id>
                        <Parent z:Ref="i288" />
                        <PropertyValues>
                          <PropertyValue z:Id="i310">
                            <PropertyName>Condition</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>int_transNumber==int_transCount</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                        </PropertyValues>
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text>Иначе если - Количество обрабатываемых транзакций превысило ограничение</Text>
                        <_activityFullName>BR.Core.Base.ElseIf</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i311" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i312" i:type="ExecutedStep">
                            <Childs />
                            <Id>baf45e94-8746-46b3-889c-ccabc66f1f7d</Id>
                            <Parent z:Ref="i311" />
                            <PropertyValues>
                              <PropertyValue z:Id="i313">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>1</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i314">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_transactionRetryCounter</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Счетчик попыток</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i315" i:type="ExecutedStep">
                            <Childs />
                            <Id>b004eb62-1a7b-4145-8bc8-17ae8f5ab3f3</Id>
                            <Parent z:Ref="i311" />
                            <PropertyValues>
                              <PropertyValue z:Id="i316">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>0</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i317">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_consecutiveExceptionCounter</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Сброс счетчика последовательных исключений</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i318" i:type="ExecutedStep">
                            <Childs />
                            <Id>b838539c-1e7c-4f26-9aeb-043b21d7d339</Id>
                            <Parent z:Ref="i311" />
                            <PropertyValues>
                              <PropertyValue z:Id="i319">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>3</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i320">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>int_state</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение состояния на STATE 3: Получение данных транзакции</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>16fad6ef-3323-4f16-8b7f-f8552b6ca5d6</Id>
                        <Parent z:Ref="i288" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                      </AbstractStep>
                    </Childs>
                    <Id>2a08f6ff-4be6-4ad4-b851-eb3fd6bce949</Id>
                    <Parent z:Ref="i239" />
                    <PropertyValues>
                      <PropertyValue z:Id="i321">
                        <PropertyName>Condition</PropertyName>
                        <_dataType>Expression</_dataType>
                        <_expression>exc_main!=null</_expression>
                        <_value i:nil="true" />
                        <_xpathSettings xmlns:d13p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                      </PropertyValue>
                    </PropertyValues>
                    <SelectedOptionId i:nil="true" />
                    <EnableStatus>true</EnableStatus>
                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                    <RetryCount>-1</RetryCount>
                    <Text>STATE TRANSITIONS</Text>
                    <_activityFullName>BR.Core.Base.If</_activityFullName>
                  </AbstractStep>
                </Childs>
                <Id>79f07436-b18b-4821-905e-427c77f9a620</Id>
                <Parent z:Ref="i50" />
                <PropertyValues>
                  <PropertyValue z:Id="i322">
                    <PropertyName>Condition</PropertyName>
                    <_dataType>Expression</_dataType>
                    <_expression>int_state == 4</_expression>
                    <_value i:nil="true" />
                    <_xpathSettings xmlns:d11p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                  </PropertyValue>
                </PropertyValues>
                <SelectedOptionId i:nil="true" />
                <EnableStatus>true</EnableStatus>
                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                <RetryCount>-1</RetryCount>
                <Text>STATE 4: Обработка транзакции</Text>
                <_activityFullName>BR.Core.Base.ElseIf</_activityFullName>
              </AbstractStep>
              <AbstractStep z:Id="i323" i:type="ExecutedStep">
                <Childs>
                  <AbstractStep z:Id="i324" i:type="ExecutedStep">
                    <Childs>
                      <AbstractStep z:Id="i325" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i326" i:type="ExecutedStep">
                            <Childs>
                              <AbstractStep z:Id="i327" i:type="ExecutedStep">
                                <Childs>
                                  <AbstractStep z:Id="i328" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>d43ea211-c3a6-45e5-9251-a76a9ab32b6c</Id>
                                    <Parent z:Ref="i327" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i329">
                                        <PropertyName>Value</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>$"✅✅События сдвинуты:✅✅\n\n{dict_config["TextFound"]}"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i330">
                                        <PropertyName>To</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>str_textMessage</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text></Text>
                                    <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                                  </AbstractStep>
                                  <AbstractStep z:Id="i331" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>73ce982e-5e8e-4d13-b81d-c230a6dfbd77</Id>
                                    <Parent z:Ref="i327" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i332">
                                        <PropertyName>Value</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>$"{str_textMessage}\n\n\n❌❌Не найдены сделки в Bitrix:❌❌\n💬Код карточки, номер события, менеджер, причина пропуска\n\n{dict_config["TextNotFound"]}"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i333">
                                        <PropertyName>To</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>str_textMessage</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text></Text>
                                    <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                                  </AbstractStep>
                                  <AbstractStep z:Id="i334" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>189de213-212c-4ed9-a255-2956dc98eb24</Id>
                                    <Parent z:Ref="i327" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i335">
                                        <PropertyName>FilePath</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>@"Telegram_Notification.pix"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i336">
                                        <PropertyName>Parameters</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.Core" i:type="d21p1:ArrayOfArgumentItem">
                                          <d21p1:ArgumentItem z:Id="i337">
                                            <d21p1:ArgumentName>in_dict_config</d21p1:ArgumentName>
                                            <d21p1:Expression>dict_config</d21p1:Expression>
                                            <d21p1:Type>Dictionary&lt;System.String, System.Object&gt;</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                          <d21p1:ArgumentItem z:Id="i338">
                                            <d21p1:ArgumentName>in_str_textMessage</d21p1:ArgumentName>
                                            <d21p1:Expression>str_textMessage</d21p1:Expression>
                                            <d21p1:Type>System.String</d21p1:Type>
                                          </d21p1:ArgumentItem>
                                        </_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i339">
                                        <PropertyName>Timeout</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://www.w3.org/2001/XMLSchema" i:type="d21p1:int">0</_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text></Text>
                                    <_activityFullName>BR.Core.Base.ExecuteScript</_activityFullName>
                                  </AbstractStep>
                                </Childs>
                                <Id>2ba84b02-2ef8-404f-a99d-c60d79a59bc7</Id>
                                <Parent z:Ref="i326" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                              </AbstractStep>
                              <AbstractStep z:Id="i340" i:type="ExecutedStep">
                                <Childs />
                                <Id>1f684a81-dc3c-4a7d-b926-01a2c7fbdff5</Id>
                                <Parent z:Ref="i326" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                              </AbstractStep>
                            </Childs>
                            <Id>3f6ab7f7-a44c-4984-b4e9-68ab29c30566</Id>
                            <Parent z:Ref="i325" />
                            <PropertyValues>
                              <PropertyValue z:Id="i341">
                                <PropertyName>Condition</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://www.w3.org/2001/XMLSchema" i:type="d17p1:boolean">false</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text></Text>
                            <_activityFullName>BR.Core.Base.If</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i342" i:type="ExecutedStep">
                            <Childs />
                            <Id>a14f92f0-c284-45ed-9c4b-c7dc3a74f0da</Id>
                            <Parent z:Ref="i325" />
                            <PropertyValues>
                              <PropertyValue z:Id="i343">
                                <PropertyName>Level</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.Core.Base" i:type="d17p1:LogLevel">Info</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i344">
                                <PropertyName>Text</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>"LogStep: Завершение работы робота"</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>LogStep - Завершение работы робота</Text>
                            <_activityFullName>BR.Core.Base.WriteLog</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i345" i:type="ExecutedStep">
                            <Childs />
                            <Id>435c552a-2d77-4d1a-bf2a-2c79b06a6206</Id>
                            <Parent z:Ref="i325" />
                            <PropertyValues>
                              <PropertyValue z:Id="i346">
                                <PropertyName>StartingCell</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://www.w3.org/2001/XMLSchema" i:type="d17p1:string">A1</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i347">
                                <PropertyName>SheetName</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>"Transactions"</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i348">
                                <PropertyName>DataTable</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>dt_transactions</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i349">
                                <PropertyName>AddHeaders</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://www.w3.org/2001/XMLSchema" i:type="d17p1:boolean">true</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i350">
                                <PropertyName>FileName</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>Path.Combine(dict_paths["ResultsFolder"], $"TransactionsReport_{DateTime.Now.ToString("ddMMyyyy-HHmmss")}.xlsx")</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i351">
                                <PropertyName>ConsiderDataType</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://www.w3.org/2001/XMLSchema" i:type="d17p1:boolean">false</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Записать отчет о транзакциях</Text>
                            <_activityFullName>Activities.Office.Excel.WriteRange</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i352" i:type="ExecutedStep">
                            <Childs />
                            <Id>2a033ce9-8efd-4803-a9fa-771e90cd810d</Id>
                            <Parent z:Ref="i325" />
                            <PropertyValues>
                              <PropertyValue z:Id="i353">
                                <PropertyName>FilePath</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>@"FrameworkScripts\KillProcesses.pix"</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i354">
                                <PropertyName>Parameters</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.Core" i:type="d17p1:ArrayOfArgumentItem">
                                  <d17p1:ArgumentItem z:Id="i355">
                                    <d17p1:ArgumentName>list_processesToKill</d17p1:ArgumentName>
                                    <d17p1:Expression>new List&lt;String&gt;{}</d17p1:Expression>
                                    <d17p1:Type>List&lt;System.String&gt;</d17p1:Type>
                                  </d17p1:ArgumentItem>
                                </_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i356">
                                <PropertyName>Timeout</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://www.w3.org/2001/XMLSchema" i:type="d17p1:int">0</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Завершить процессы робота</Text>
                            <_activityFullName>BR.Core.Base.ExecuteScript</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i357" i:type="ExecutedStep">
                            <Childs />
                            <Id>ea903115-5c38-4740-8118-860f5fa10f80</Id>
                            <Parent z:Ref="i325" />
                            <PropertyValues>
                              <PropertyValue z:Id="i358">
                                <PropertyName>Count</PropertyName>
                                <_dataType>Value</_dataType>
                                <_expression i:nil="true" />
                                <_value xmlns:d17p1="http://www.w3.org/2001/XMLSchema" i:type="d17p1:int">3</_value>
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId>0</SelectedOptionId>
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text i:nil="true" />
                            <_activityFullName>BR.Core.Base.Sleep</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i359" i:type="ExecutedStep">
                            <Childs />
                            <Id>cf6d54fd-0813-4629-8191-bf913ff74995</Id>
                            <Parent z:Ref="i325" />
                            <PropertyValues>
                              <PropertyValue z:Id="i360">
                                <PropertyName>FilePath</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>dict_paths["TEMPFolder"]</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Удалить необходимые файлы и/или папки, которые были сформированы в процессе запуска</Text>
                            <_activityFullName>Activities.Files.DeleteFile</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>8feffe5d-c861-438c-a0dd-e58dda377d5d</Id>
                        <Parent z:Ref="i324" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Try</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i361" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i362" i:type="ExecutedStep">
                            <Childs />
                            <Id>57a5ac75-d6ef-4802-8cbb-063500071e10</Id>
                            <Parent z:Ref="i361" />
                            <PropertyValues>
                              <PropertyValue z:Id="i363">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>errorSource</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i364">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>exc_main.Source</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Источник ошибки</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>dcfb3243-8eaa-4bb1-88a7-a0297a994845</Id>
                        <Parent z:Ref="i324" />
                        <PropertyValues>
                          <PropertyValue z:Id="i365">
                            <PropertyName>Message</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>errorMessage</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i366">
                            <PropertyName>StackTrace</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression></_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i367">
                            <PropertyName>Source</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>errorSource</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                          <PropertyValue z:Id="i368">
                            <PropertyName>Exception</PropertyName>
                            <_dataType>Expression</_dataType>
                            <_expression>exc_main</_expression>
                            <_value i:nil="true" />
                            <_xpathSettings xmlns:d15p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                          </PropertyValue>
                        </PropertyValues>
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Catch</_activityFullName>
                      </AbstractStep>
                      <AbstractStep z:Id="i369" i:type="ExecutedStep">
                        <Childs>
                          <AbstractStep z:Id="i370" i:type="ExecutedStep">
                            <Childs>
                              <AbstractStep z:Id="i371" i:type="ExecutedStep">
                                <Childs>
                                  <AbstractStep z:Id="i372" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>136078a1-9fbc-4266-92c1-848a656ce925</Id>
                                    <Parent z:Ref="i371" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i373">
                                        <PropertyName>Text</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>exc_main.Message.Contains($"{exc_main.GetType()}") ? $"{exc_main.Message}\n{exc_main.Source}" : $"{exc_main.GetType()}: {exc_main.Message}\n{exc_main.Source}"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i374">
                                        <PropertyName>Exception</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>exc_main</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId>0</SelectedOptionId>
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>Проброс ошибки</Text>
                                    <_activityFullName>BR.Core.Base.ThrowException</_activityFullName>
                                  </AbstractStep>
                                </Childs>
                                <Id>c619e9eb-e296-4e2e-94dc-c898f2941886</Id>
                                <Parent z:Ref="i370" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfTrue</_activityFullName>
                              </AbstractStep>
                              <AbstractStep z:Id="i375" i:type="ExecutedStep">
                                <Childs>
                                  <AbstractStep z:Id="i376" i:type="ExecutedStep">
                                    <Childs />
                                    <Id>bc518a62-1f70-4b14-a6b7-f0e243f24cd1</Id>
                                    <Parent z:Ref="i375" />
                                    <PropertyValues>
                                      <PropertyValue z:Id="i377">
                                        <PropertyName>Level</PropertyName>
                                        <_dataType>Value</_dataType>
                                        <_expression i:nil="true" />
                                        <_value xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.Core.Base" i:type="d21p1:LogLevel">Warn</_value>
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                      <PropertyValue z:Id="i378">
                                        <PropertyName>Text</PropertyName>
                                        <_dataType>Expression</_dataType>
                                        <_expression>exc_main.Message.Contains($"{exc_main.GetType()}") ? $"{exc_main.Message}\n{exc_main.Source}" : $"{exc_main.GetType()}: {exc_main.Message}\n{exc_main.Source}"</_expression>
                                        <_value i:nil="true" />
                                        <_xpathSettings xmlns:d21p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                      </PropertyValue>
                                    </PropertyValues>
                                    <SelectedOptionId i:nil="true" />
                                    <EnableStatus>true</EnableStatus>
                                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                    <RetryCount>-1</RetryCount>
                                    <Text>LogStep - Бизнес ошибка</Text>
                                    <_activityFullName>BR.Core.Base.WriteLog</_activityFullName>
                                  </AbstractStep>
                                </Childs>
                                <Id>93d2c26f-be45-406b-8970-b862be90fb4f</Id>
                                <Parent z:Ref="i370" />
                                <PropertyValues>
                                  <PropertyValue z:Id="i379">
                                    <PropertyName>Condition</PropertyName>
                                    <_dataType>Expression</_dataType>
                                    <_expression>exc_main != null</_expression>
                                    <_value i:nil="true" />
                                    <_xpathSettings xmlns:d19p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                                  </PropertyValue>
                                </PropertyValues>
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.ElseIf</_activityFullName>
                              </AbstractStep>
                              <AbstractStep z:Id="i380" i:type="ExecutedStep">
                                <Childs />
                                <Id>8c1050d6-e90a-4a18-8f27-55256613991a</Id>
                                <Parent z:Ref="i370" />
                                <PropertyValues />
                                <SelectedOptionId i:nil="true" />
                                <EnableStatus>true</EnableStatus>
                                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                                <RetryCount>-1</RetryCount>
                                <Text></Text>
                                <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
                              </AbstractStep>
                            </Childs>
                            <Id>9db8e30e-26ad-42f3-b87e-e30f7e346b6b</Id>
                            <Parent z:Ref="i369" />
                            <PropertyValues>
                              <PropertyValue z:Id="i381">
                                <PropertyName>Condition</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>exc_main != null &amp;&amp; exc_main.GetType() != new BusinessRuleException().GetType()</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Есть системная ошибка?</Text>
                            <_activityFullName>BR.Core.Base.If</_activityFullName>
                          </AbstractStep>
                          <AbstractStep z:Id="i382" i:type="ExecutedStep">
                            <Childs />
                            <Id>7f0d80e0-a558-4145-be5b-8a06bf4d7e46</Id>
                            <Parent z:Ref="i369" />
                            <PropertyValues>
                              <PropertyValue z:Id="i383">
                                <PropertyName>Value</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>true</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                              <PropertyValue z:Id="i384">
                                <PropertyName>To</PropertyName>
                                <_dataType>Expression</_dataType>
                                <_expression>bool_exit</_expression>
                                <_value i:nil="true" />
                                <_xpathSettings xmlns:d17p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
                              </PropertyValue>
                            </PropertyValues>
                            <SelectedOptionId i:nil="true" />
                            <EnableStatus>true</EnableStatus>
                            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                            <RetryCount>-1</RetryCount>
                            <Text>Переключение флага выхода, чтобы прервать цикл while</Text>
                            <_activityFullName>BR.Core.Base.Assign</_activityFullName>
                          </AbstractStep>
                        </Childs>
                        <Id>0cc26165-880b-463b-b3ba-a6c31f94e24d</Id>
                        <Parent z:Ref="i324" />
                        <PropertyValues />
                        <SelectedOptionId i:nil="true" />
                        <EnableStatus>true</EnableStatus>
                        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                        <RetryCount>-1</RetryCount>
                        <Text></Text>
                        <_activityFullName>BR.Core.Base.Finally</_activityFullName>
                      </AbstractStep>
                    </Childs>
                    <Id>b02edfec-680e-4451-9b3f-7a53458d7109</Id>
                    <Parent z:Ref="i323" />
                    <PropertyValues />
                    <SelectedOptionId i:nil="true" />
                    <EnableStatus>true</EnableStatus>
                    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                    <RetryCount>-1</RetryCount>
                    <Text>Завершение работы робота</Text>
                    <_activityFullName>BR.Core.Base.TryCatch</_activityFullName>
                  </AbstractStep>
                </Childs>
                <Id>7a4ce9c6-a9a9-4a76-82ed-c3b311b845c3</Id>
                <Parent z:Ref="i50" />
                <PropertyValues />
                <SelectedOptionId i:nil="true" />
                <EnableStatus>true</EnableStatus>
                <ExceptionHandlingMode>Default</ExceptionHandlingMode>
                <RetryCount>-1</RetryCount>
                <Text>STATE 5: Завершение</Text>
                <_activityFullName>BR.Core.Base.IfFalse</_activityFullName>
              </AbstractStep>
            </Childs>
            <Id>58245bfe-d93b-45b6-8afc-220ca7d09c17</Id>
            <Parent z:Ref="i48" />
            <PropertyValues>
              <PropertyValue z:Id="i385">
                <PropertyName>Condition</PropertyName>
                <_dataType>Expression</_dataType>
                <_expression>int_state == 1</_expression>
                <_value i:nil="true" />
                <_xpathSettings xmlns:d9p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
              </PropertyValue>
            </PropertyValues>
            <SelectedOptionId i:nil="true" />
            <EnableStatus>true</EnableStatus>
            <ExceptionHandlingMode>Default</ExceptionHandlingMode>
            <RetryCount>-1</RetryCount>
            <Text>STATE Machine</Text>
            <_activityFullName>BR.Core.Base.If</_activityFullName>
          </AbstractStep>
        </Childs>
        <Id>3f0e0b04-e3b0-432a-b5c9-41bf679b7aa6</Id>
        <Parent z:Ref="i2" />
        <PropertyValues>
          <PropertyValue z:Id="i386">
            <PropertyName>Condition</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression>!bool_exit</_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
          <PropertyValue z:Id="i387">
            <PropertyName>Counter</PropertyName>
            <_dataType>Expression</_dataType>
            <_expression></_expression>
            <_value i:nil="true" />
            <_xpathSettings xmlns:d7p1="http://schemas.datacontract.org/2004/07/BR.XPath" i:nil="true" />
          </PropertyValue>
        </PropertyValues>
        <SelectedOptionId i:nil="true" />
        <EnableStatus>true</EnableStatus>
        <ExceptionHandlingMode>Default</ExceptionHandlingMode>
        <RetryCount>-1</RetryCount>
        <Text>Бесконечный цикл</Text>
        <_activityFullName>BR.Core.Base.LoopWhile</_activityFullName>
      </AbstractStep>
    </Childs>
    <Id>a771a6e6-0697-48ee-b6fc-79138d5efe10</Id>
    <Parent i:nil="true" />
    <PropertyValues />
    <SelectedOptionId i:nil="true" />
    <EnableStatus>true</EnableStatus>
    <ExceptionHandlingMode>Default</ExceptionHandlingMode>
    <RetryCount>-1</RetryCount>
    <Text></Text>
    <_activityFullName>BR.Core.Base.Container</_activityFullName>
  </Logic>
  <Name>main.pix</Name>
  <Namespaces xmlns:d2p1="http://schemas.microsoft.com/2003/10/Serialization/Arrays">
    <d2p1:string>System.Text.RegularExpressions</d2p1:string>
    <d2p1:string>Newtonsoft.Json</d2p1:string>
    <d2p1:string>Newtonsoft.Json.Linq</d2p1:string>
    <d2p1:string>PIX.Core.Exceptions</d2p1:string>
  </Namespaces>
  <Params>
    <Parameter z:Id="i388">
      <DefaultValueExpression>0</DefaultValueExpression>
      <Description>Количество транзакций, которое должно быть обработано за один запуск. TransNumber==0 - без ограничений</Description>
      <Name>int_transNumber</Name>
      <TypeString>System.Int32</TypeString>
    </Parameter>
    <Parameter z:Id="i389">
      <DefaultValueExpression>false</DefaultValueExpression>
      <Description>bool_isProd==true - робот работает в продуктиве. bool_isProd==false - робот в предпродуктиве или тесте</Description>
      <Name>bool_isProd</Name>
      <TypeString>System.Boolean</TypeString>
    </Parameter>
    <Parameter z:Id="i390">
      <DefaultValueExpression>false</DefaultValueExpression>
      <Description>bool_isPredProd==true - робот работает в предпродуктиве. bool_isPredProd==false - робот в продуктиве или тесте.</Description>
      <Name>bool_isPredProd</Name>
      <TypeString>System.Boolean</TypeString>
    </Parameter>
    <Parameter z:Id="i391">
      <DefaultValueExpression>1</DefaultValueExpression>
      <Description>Макс. кол-во попыток обработки транзакции</Description>
      <Name>int_maxTransactionRetry</Name>
      <TypeString>System.Int32</TypeString>
    </Parameter>
    <Parameter z:Id="i392">
      <DefaultValueExpression>1</DefaultValueExpression>
      <Description>Макс. кол-во последовательных ошибок. При значении 0 - ограничений нет.</Description>
      <Name>int_maxConsecutiveExceptions</Name>
      <TypeString>System.Int32</TypeString>
    </Parameter>
  </Params>
  <TemplateVersion xmlns:d2p1="http://schemas.datacontract.org/2004/07/System" i:nil="true" />
  <Variables xmlns:d2p1="http://schemas.datacontract.org/2004/07/BR.Logic.Params" />
  <Version i:nil="true" />
</Script>